ðŸ—ï¸ **Production Architecture â€“ Offline RAG Chatbot**

                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚       ðŸ§‘â€ðŸ’» User Interface      â”‚
                 â”‚  (Streamlit / Gradio App)    â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               ðŸ” Query Handler                â”‚
        â”‚ - Accepts user question                       â”‚
        â”‚ - Encodes query using SentenceTransformer     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        ðŸ”— Vector Store (Qdrant Local)          â”‚
        â”‚ - Searches indexed document chunks             â”‚
        â”‚ - Top-k retrieval using cosine similarity       â”‚
        â”‚ - Returns chunk metadata: text, page, file     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              ðŸ“¦ Response Formatter             â”‚
        â”‚ - Formats result with text + source + chunk ID â”‚
        â”‚ - Handles fallback: â€œNot Foundâ€                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             ðŸŒ UI Renderer (Frontend)           â”‚
        â”‚ - Displays responses & document metadata       â”‚
        â”‚ - Stylish, responsive UI                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ðŸ§° **Background Processing Layer (One-time or Scheduled)**

```text
                       â±ï¸ Scheduler / Manual Trigger
                                â”‚
                                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        ðŸ“„ Document Processor (rag_chatbot.py)             â”‚
    â”‚ - Loads PDF/DOCX from /data                               â”‚
    â”‚ - Splits into text chunks (by page, 500â€“700 characters)   â”‚
    â”‚ - Embeds each chunk using all-MiniLM-L6-v2                â”‚
    â”‚ - Pushes vector + metadata into Qdrant                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ðŸ—ƒï¸ **Data Flow Overview**

```mermaid
graph TD
A[PDF / DOCX Files] --> B[Document Loader]
B --> C[Chunking & Metadata Tagging]
C --> D[Sentence Embedding]
D --> E[Qdrant Storage (Vectors + Payload)]

U[User Input] --> Q[Query Embedding]
Q --> S[Qdrant Search]
S --> R[Top-k Matching Chunks]
R --> F[UI Display with Metadata]


ðŸ§± Components & Stack

| Layer             | Tool/Service              | Offline Ready |
| ----------------- | ------------------------- | ------------- |
| UI                | Streamlit / Gradio        | âœ…             |
| Embedding Model   | all-MiniLM-L6-v2 (sbert)  | âœ…             |
| Vector DB         | Qdrant (local binary)     | âœ…             |
| Preprocessing     | Python (pdfplumber, docx) | âœ…             |
| Hosting           | Local Machine / LAN       | âœ…             |
| Optional Scale-up | FastAPI + Docker          | âœ…             |


ðŸ“ˆ Future Production Enhancements

| Feature                | Benefit                                     |
| ---------------------- | ------------------------------------------- |
| Dockerized Setup       | One-click deployment                        |
| Admin Upload Portal    | Allow uploading new docs without CLI        |
| Local LLM Integration  | Summarization / Question generation offline |
| GPU Support (optional) | Faster embedding for large corpora          |
| Logging/Analytics      | Monitor popular queries                     |
| Role-based Access      | Secure internal use                         |


